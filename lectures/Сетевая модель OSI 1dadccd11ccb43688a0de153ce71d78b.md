# Сетевая модель OSI

Ссылка: https://eternalhost.net/blog/tehnologii/setevaya-model-osi

## Что такое модель OSI?

Модель OSI представляет собой концептуальную платформу, которая разделяет функции сетевой связи на семь уровней. Отправка данных по сети сложна, поскольку различные аппаратные и программные технологии должны работать согласованно, независимо от географических и политических границ. Модель обработки данных OSI выполняет функцию универсального языка для компьютерных сетей, поэтому различные технологии могут взаимодействовать посредством стандартных протоколов или правил связи. Для практического применения в сети каждая технология на определенном уровне должна обеспечивать конкретные возможности и выполнять конкретные функции. Технологии более высоких уровней используют абстракции, поскольку они могут задействовать низкоуровневые технологии без ущерба для сведений базовой реализации

---

Процесс, когда информация отправляется и переходит из данных в биты, называется **инкапсуляцией.** 

Обратный процесс, когда информация, полученная в битах на первом уровне, переходит в данные на седьмом, называется **декапсуляцией.**

---

- Описание уровней модели OSI
    
    ![chrome_ce8OwJ0Ghe.png](%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D0%B0%D1%8F%20%D0%BC%D0%BE%D0%B4%D0%B5%D0%BB%D1%8C%20OSI%201dadccd11ccb43688a0de153ce71d78b/chrome_ce8OwJ0Ghe.png)
    
- Уровни модели OSI с указателями декапсуляции и инкапсуляции
    
    ![1500x788-2.png](%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D0%B0%D1%8F%20%D0%BC%D0%BE%D0%B4%D0%B5%D0%BB%D1%8C%20OSI%201dadccd11ccb43688a0de153ce71d78b/1500x788-2.png)
    

![Setevaya-model-OSI-1.png](%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D0%B0%D1%8F%20%D0%BC%D0%BE%D0%B4%D0%B5%D0%BB%D1%8C%20OSI%201dadccd11ccb43688a0de153ce71d78b/Setevaya-model-OSI-1.png)

## **Первый, физический уровень (physical layer, L1):**

<aside>
<img src="https://www.notion.so/icons/arrow-right-basic_red.svg" alt="https://www.notion.so/icons/arrow-right-basic_red.svg" width="40px" /> Он отвечает за обмен физическими сигналами между физическими устройствами, «железом». Физический уровень описывает способы передачи потока бит через дата линк, соединяющий сетевые устройства. Поток байт может быть сгруппирован в слова и сконвертирован в физический сигнал, который посылается через некоторое устройство. Здесь специфицируются такие низкоуровневые параметры как частота, амплитуда и модуляция.

**Физический уровень выполняет функции:**

- Побитовая доставка
- Физическое кодирование (способ представления данных в виде импульсов)
- LLC Error control: Определение (и иногда исправление) ошибок с помощью чексумм
- MAC Adressing mechanism: Адрессация на основе уникальных MAC-адресов
- MAC Channel access control mechanism: Предоставляет протокол множественного доступа
</aside>

## **Второй уровень, канальный (data link layer, L2):**

<aside>
<img src="https://www.notion.so/icons/arrow-right-basic_pink.svg" alt="https://www.notion.so/icons/arrow-right-basic_pink.svg" width="40px" /> Канальный уровень относится к технологиям, используемым для соединения двух устройств по сети, в которой уже имеется физический уровень. Он управляет кадрами данных, которые представляют собой цифровые сигналы, инкапсулированные в пакеты данных. Управление потоком и ошибками данных часто является ключевым заданием канального уровня.

Роль PDU исполняют фреймы.  

Заголовок кадра содержит [аппаратные адреса](https://ru.wikipedia.org/wiki/MAC-%D0%B0%D0%B4%D1%80%D0%B5%D1%81) отправителя и получателя, что позволяет определить, какое устройство отправило кадр и какое устройство должно получить и обработать его. 

Второй уровень решает проблему адресации при передаче информации. Канальный уровень получает биты и превращает их в кадры (frame, также «фреймы»). Задача здесь — сформировать кадры с адресом отправителя и получателя, после чего отправить их по сети.

У канального уровня есть два подуровня — это MAC и LLC. MAC (Media Access Control, контроль доступа к среде) отвечает за присвоение физических MAC-адресов, а LLC (Logical Link Control, контроль логической связи) занимается проверкой и исправлением данных, управляет их передачей. Для упрощения мы указываем LLC на втором уровне модели, но, если быть точными, LLC нельзя отнести полностью ни к первому, ни ко второму уровню — он между.

На втором уровне OSI работают коммутаторы, их задача — передать сформированные кадры от одного устройства к другому, используя в качестве адресов только физические MAC-адреса.

На канальном уровне активно используется протокол ARP (Address Resolution Protocol — протокол определения адреса). С помощью него 64-битные MAC-адреса сопоставляются с 32-битными IP-адресами и наоборот, тем самым обеспечивается инкапсуляция и декапсуляция данных.

Управление потоком и ошибками данных часто является ключевым заданием канального уровня. Ethernet является примером стандарта на этом уровне. Канальный уровень часто делится на два подуровня: уровень управления доступом к среде (Media Access Control, MAC) и уровень управления логическим каналом (Logical Link Control, LLC).

</aside>

## Третий уровень, с**етевой уровень (Network layer,L3):**

<aside>
<img src="https://www.notion.so/icons/arrow-right-basic_green.svg" alt="https://www.notion.so/icons/arrow-right-basic_green.svg" width="40px" /> Транспортный уровень в основном занимается обеспечением того, чтобы пакеты данных поступали в место назначения в нужной последовательности и без потерь или ошибок либо могли быть легко восстановлены при необходимости. Главными задачами транспортного уровня являются управление потоком и контроль ошибок. На этом уровне обычно используются такие протоколы, как протокол управления передачей данных (Transmission Control Protocol, TCP) на основе соединения практически без потерь и протокол пользовательских дейтаграмм (User Datagram Protocol, UDP) без установления соединения и с потерями. TCP обычно используется там, где важно сохранить целостность данных (например, при получении общего доступа к файлам), в то время как UDP может пригодиться, когда не требуется сохранение всех пакетов (например, для потоковой передачи видео).

</aside>

## **Четвертый уровень, транспортный (transport layer, L4):**

<aside>
<img src="https://www.notion.so/icons/arrow-right-basic_orange.svg" alt="https://www.notion.so/icons/arrow-right-basic_orange.svg" width="40px" /> Транспортный уровень предназначен для передачи надежной последовательностей данных произвольной длины через коммуникационную сеть от отправителя к получателю. Уровень надежности может варьироваться в зависимости от класса протокола транспортного уровня. Так например UDP гарантирует только целостность данных в рамках одной датаграммы и не исключает возможности потери/дублирования пакета или нарушения порядка получения данных; TCP обеспечивает передачу данных, исключающую потерю данных или нарушение порядка их поступления или дублирования, может перераспределять данные, разбивая большие порции данных на фрагменты и наоборот, склеивая фрагменты в один пакет.

</aside>

Модель OSI определяет пять классов сервиса, предоставляемых транспортным уровнем. Эти виды сервиса отличаются качеством предоставляемых услуг: срочностью, возможностью восстановления прерванной связи, наличием средств мультиплексирования нескольких соединений между различными прикладными протоколами через общий транспортный протокол, а главное способностью к обнаружению и исправлению ошибок передачи, таких как искажение, потеря и дублирование пакетов. В функции транспортного уровня входят:

- Управление передачей по сети и обеспечение целостности блоков данных
- Обнаружение ошибок, частичная их ликвидация
- Восстановление передачи после отказов и неисправностей
- Разбиение данных на блоки определенного размера
- Предоставление приоритетов при передаче блоков (нормальная или срочная)
- Подтверждение передачи.

Транспортный уровень использует сегменты или датаграммы в качестве основного типа данных.

Примеры протоколов:

- TCP (Transmission Control Protocol)
- UDP (User Datagram Protocol)
- SCTP (Stream Control Transmission Protocol)

## **Пятый уровень, сеансовый (session layer, L5):**

<aside>
<img src="https://www.notion.so/icons/arrow-right-basic_purple.svg" alt="https://www.notion.so/icons/arrow-right-basic_purple.svg" width="40px" /> Примером работы пятого уровня может служить видеозвонок по сети. Во время видеосвязи необходимо, чтобы два потока данных (аудио и видео) шли синхронно. Когда к разговору двоих человек прибавится третий — получится уже конференция. Задача пятого уровня — сделать так, чтобы собеседники могли понять, кто сейчас говорит.

Службы сеансового уровня зачастую применяются в средах приложений, требующих удаленного вызова процедур, т.е. чтобы запрашивать выполнение действий на удаленных компьютерах или независимых системах на одном устройстве (при наличии нескольких ОС).

</aside>

## **Шестой уровень, представления данных (presentation layer, L6):**

<aside>
<img src="https://www.notion.so/icons/arrow-right-basic_yellow.svg" alt="https://www.notion.so/icons/arrow-right-basic_yellow.svg" width="40px" /> Уровень представления занимается представлением данных, передаваемых прикладными процессами в нужной форме. Данные, полученные от приложений с прикладного уровня, на уровне представления преобразуются в формат подходящий для передачи их по сети, а полученные по сети данные преобразуются в формат приложений. Также кроме форматов и представления данных, данный уровень занимается конвертацией структур данных, используемых различными приложениями. Другой функцией, выполняемой на уровне представлений, является шифрование данных, которое применяется в тех случаях, когда необходимо защитить передаваемую информацию от доступа несанкционированными получателями.

Как и прикладной уровень, уровень представления оперирует напрямую сообщениями. Уровень представления выполняет следующие основные функции:

- Генерация запросов на установление/завершение сеансов взаимодействия прикладных процессов
- Согласование представления данных между прикладными процессами
- Конвертация форм представления данных
- Шифрование данных
</aside>

## **Седьмой уровень, прикладной (application layer):**

Самый верхний уровень модели, предоставляет набор интерфейсов для взаимодействия пользовательских процессов с сетью. Единицу информации, которой оперируют три верхних уровня модели OSI, принято называть сообщение (англ. *message*).

Прикладной уровень выполняет следующие функции:

- Позволяет приложениям использовать сетевые службы (например удалённый доступ к файлам)
- Идентификация пользователей по их паролям, адресам, электронным подписям
- Предоставление приложениям информации об ошибках
- Определение достаточности имеющихся ресурсов
- Управление данными, которыми обмениваются прикладные процессы и синхронизация взаимодействия прикладных процессов